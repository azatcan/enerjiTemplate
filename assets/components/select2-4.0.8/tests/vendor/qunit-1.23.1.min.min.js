/*!
 * QUnit 1.23.1
 * https://qunitjs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-04-12T17:29Z
 */
(function(aO){var ar={};var ah=aO.Date;var ae=ah.now||function(){return new ah().getTime()};var ai=aO.setTimeout;var aq=aO.clearTimeout;var ag=aO.window;var ab={document:ag&&ag.document!==undefined,setTimeout:ai!==undefined,sessionStorage:(function(){var b="qunit-test-string";try{sessionStorage.setItem(b,b);sessionStorage.removeItem(b);return true}catch(a){return false}}())};var au=(ac(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,"");var az=false;var aP=false;var aL=Object.prototype.toString,aE=Object.prototype.hasOwnProperty;function an(e,a){var c,d,b=e.slice();for(c=0;c<b.length;c++){for(d=0;d<a.length;d++){if(b[c]===a[d]){b.splice(c,1);c--;break}}}return b}function Y(d,c){if(c.indexOf){return c.indexOf(d)}for(var b=0,a=c.length;b<a;b++){if(c[b]===d){return b}}return -1}function aK(d){var b,c,a=ar.is("array",d)?[]:{};for(b in d){if(aE.call(d,b)){c=d[b];a[b]=c===Object(c)?aK(c):c}}return a}function aA(a,b,d){for(var c in b){if(aE.call(b,c)){if(c!=="constructor"||a!==aO){if(b[c]===undefined){delete a[c]}else{if(!(d&&typeof a[c]!=="undefined")){a[c]=b[c]}}}}}return a}function ak(c){if(typeof c==="undefined"){return"undefined"}if(c===null){return"null"}var b=aL.call(c).match(/^\[object\s(.*)\]$/),a=b&&b[1];switch(a){case"Number":if(isNaN(c)){return"nan"}return"number";case"String":case"Boolean":case"Array":case"Set":case"Map":case"Date":case"RegExp":case"Function":case"Symbol":return a.toLowerCase()}if(typeof c==="object"){return"object"}}function ao(b,a){return ar.objectType(a)===b}function aF(d,c){c=c===undefined?4:c;var a,b,e;if(d.stack){a=d.stack.split("\n");if(/^error$/i.test(a[0])){a.shift()}if(au){b=[];for(e=c;e<a.length;e++){if(a[e].indexOf(au)!==-1){break}b.push(a[e])}if(b.length){return b.join("\n")}}return a[c]}else{if(d.sourceURL){if(/qunit.js$/.test(d.sourceURL)){return}return d.sourceURL+":"+d.line}}}function ac(c){var b=new Error();if(!b.stack){try{throw b}catch(a){b=a}}return aF(b,c)}var aj={queue:[],blocking:true,reorder:true,altertitle:true,collapse:true,scrolltop:true,maxDepth:5,requireExpects:false,urlConfig:[],modules:[],moduleStack:[],currentModule:{name:"",tests:[]},callbacks:{}};aj.modules.push(aj.currentModule);var al={};function af(d){var e,b,f,a=["begin","done","log","testStart","testDone","moduleStart","moduleDone"];function c(g){var h=function(i){if(ak(i)!=="function"){throw new Error("QUnit logging methods require a callback function as their first parameters.")}aj.callbacks[g].push(i)};al[g]=h;return h}for(e=0,b=a.length;e<b;e++){f=a[e];if(ak(aj.callbacks[f])==="undefined"){aj.callbacks[f]=[]}d[f]=c(f)}}function ap(d,a){var e,b,c;c=aj.callbacks[d];for(e=0,b=c.length;e<b;e++){c[e](a)}}function V(){var a,b;for(a in al){if(ar[a]!==al[a]){b=ar[a];ar[a]=al[a];ar[a](b);if(aO.console&&aO.console.warn){aO.console.warn("QUnit."+a+" was replaced with a new value.\nPlease, check out the documentation on how to apply logging callbacks.\nReference: https://api.qunitjs.com/category/callbacks/")}}}}(function(){if(!ab.document){return}var a=ag.onerror;ag.onerror=function(d,c,b){var e=false;if(a){e=a(d,c,b)}if(e!==true){if(ar.config.current){if(ar.config.current.ignoreGlobalErrors){return true}ar.pushFailure(d,c+":"+b)}else{ar.test("global failure",aA(function(){ar.pushFailure(d,c+":"+b)},{validTest:true}))}return false}return e}}());ar.isLocal=!(ab.document&&ag.location.protocol!=="file:");ar.version="1.23.1";aA(ar,{module:function(f,c,e){var d,b;var h=aj.currentModule;if(arguments.length===2){if(ak(c)==="function"){e=c;c=undefined}}if(c&&c.setup){c.beforeEach=c.setup;delete c.setup}if(c&&c.teardown){c.afterEach=c.teardown;delete c.teardown}d=a();b={beforeEach:aQ(d,"beforeEach"),afterEach:aQ(d,"afterEach")};if(ak(e)==="function"){aj.moduleStack.push(d);g(d);e.call(d.testEnvironment,b);aj.moduleStack.pop();d=d.parentModule||h}g(d);function a(){var i=aj.moduleStack.length?aj.moduleStack.slice(-1)[0]:null;var l=i!==null?[i.name,f].join(" > "):f;var k={name:l,parentModule:i,tests:[],moduleId:am(l)};var j={};if(i){aA(j,i.testEnvironment);delete j.beforeEach;delete j.afterEach}aA(j,c);k.testEnvironment=j;aj.modules.push(k);return k}function g(i){aj.currentModule=i}},asyncTest:aw,test:aH,skip:av,only:ax,start:function(a){var b=az;if(!aj.current){az=true;if(aP){throw new Error("Called start() outside of a test context while already started")}else{if(b||a>1){throw new Error("Called start() outside of a test context too many times")}else{if(aj.autostart){throw new Error("Called start() outside of a test context when QUnit.config.autostart was true")}else{if(!aj.pageLoaded){aj.autostart=true;return}}}}}else{aj.current.semaphore-=a||1;if(isNaN(aj.current.semaphore)){aj.current.semaphore=0;ar.pushFailure("Called start() with a non-numeric decrement.",ac(2));return}if(aj.current.semaphore>0){return}if(aj.current.semaphore<0){aj.current.semaphore=0;ar.pushFailure("Called start() while already started (test's semaphore was 0 already)",ac(2));return}}Z()},stop:function(a){if(!aj.current){throw new Error("Called stop() outside of a test context")}aj.current.semaphore+=a||1;aG()},config:aj,is:ao,objectType:ak,extend:aA,load:function(){aj.pageLoaded=true;aA(aj,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:0,updateRate:1000,autostart:true,filter:""},true);aj.blocking=false;if(aj.autostart){Z()}},stack:function(a){a=(a||0)+2;return ac(a)}});af(ar);function ay(){var c,a,b=[];if(!aj.started){aj.started=ae();V();if(aj.modules[0].name===""&&aj.modules[0].tests.length===0){aj.modules.shift()}for(c=0,a=aj.modules.length;c<a;c++){b.push({name:aj.modules[c].name,tests:aj.modules[c].tests})}ap("begin",{totalTests:aN.count,modules:b})}aj.blocking=false;W(true)}function W(a){function b(){W(a)}var c=ae();aj.depth=(aj.depth||0)+1;while(aj.queue.length&&!aj.blocking){if(!ab.setTimeout||aj.updateRate<=0||((ae()-c)<aj.updateRate)){if(aj.current){aj.current.usedAsync=false}aj.queue.shift()()}else{ai(b,13);break}}aj.depth--;if(a&&!aj.blocking&&!aj.queue.length&&aj.depth===0){aC()}}function aG(){aj.blocking=true;if(aj.testTimeout&&ab.setTimeout){aq(aj.timeout);aj.timeout=ai(function(){if(aj.current){aj.current.semaphore=0;ar.pushFailure("Test timed out",ac(2))}else{throw new Error("Test timed out")}Z()},aj.testTimeout)}}function Z(){aP=true;if(ab.setTimeout){ai(function(){if(aj.current&&aj.current.semaphore>0){return}if(aj.timeout){aq(aj.timeout)}ay()},13)}else{ay()}}function aC(){var b,a;aj.autorun=true;if(aj.previousModule){ap("moduleDone",{name:aj.previousModule.name,tests:aj.previousModule.tests,failed:aj.moduleStats.bad,passed:aj.moduleStats.all-aj.moduleStats.bad,total:aj.moduleStats.all,runtime:ae()-aj.moduleStats.started})}delete aj.previousModule;b=ae()-aj.started;a=aj.stats.all-aj.stats.bad;ap("done",{failed:aj.stats.bad,passed:a,total:aj.stats.all,runtime:b})}function aQ(a,b){if(a.testEnvironment===undefined){a.testEnvironment={}}return function(c){a.testEnvironment[b]=c}}var aI=false;var X=0;var at;function aN(c){var a,b;++aN.count;aA(this,c);this.assertions=[];this.semaphore=0;this.usedAsync=false;this.module=aj.currentModule;this.stack=ac(3);for(a=0,b=this.module.tests;a<b.length;a++){if(this.module.tests[a].name===this.testName){this.testName+=" "}}this.testId=am(this.module.name,this.testName);this.module.tests.push({name:this.testName,testId:this.testId});if(c.skip){this.callback=function(){};this.async=false;this.expected=0}else{this.assert=new aJ(this)}}aN.count=0;aN.prototype={before:function(){if(this.module!==aj.previousModule||!aE.call(aj,"previousModule")){if(aE.call(aj,"previousModule")){ap("moduleDone",{name:aj.previousModule.name,tests:aj.previousModule.tests,failed:aj.moduleStats.bad,passed:aj.moduleStats.all-aj.moduleStats.bad,total:aj.moduleStats.all,runtime:ae()-aj.moduleStats.started})}aj.previousModule=this.module;aj.moduleStats={all:0,bad:0,started:ae()};ap("moduleStart",{name:this.module.name,tests:this.module.tests})}aj.current=this;if(this.module.testEnvironment){delete this.module.testEnvironment.beforeEach;delete this.module.testEnvironment.afterEach}this.testEnvironment=aA({},this.module.testEnvironment);this.started=ae();ap("testStart",{name:this.testName,module:this.module.name,testId:this.testId});if(!aj.pollution){aD()}},run:function(){var c;aj.current=this;if(this.async){ar.stop()}this.callbackStarted=ae();if(aj.notrycatch){b(this);return}try{b(this)}catch(a){this.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(a.message||a),aF(a,0));aD();if(aj.blocking){ar.start()}}function b(d){c=d.callback.call(d.testEnvironment,d.assert);d.resolvePromise(c)}},after:function(){ad()},queueHook:function(e,a){var d,c=this;return function b(){aj.current=c;if(aj.notrycatch){g();return}try{g()}catch(f){c.pushFailure(a+" failed on "+c.testName+": "+(f.message||f),aF(f,0))}function g(){d=e.call(c.testEnvironment,c.assert);c.resolvePromise(d,a)}}},hooks:function(a){var b=[];function c(d,e){if(e.parentModule){c(d,e.parentModule)}if(e.testEnvironment&&ar.objectType(e.testEnvironment[a])==="function"){b.push(d.queueHook(e.testEnvironment[a],a))}}if(!this.skip){c(this,this.module)}return b},finish:function(){aj.current=this;if(aj.requireExpects&&this.expected===null){this.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack)}else{if(this.expected!==null&&this.expected!==this.assertions.length){this.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack)}else{if(this.expected===null&&!this.assertions.length){this.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack)}}}var b,a=0;this.runtime=ae()-this.started;aj.stats.all+=this.assertions.length;aj.moduleStats.all+=this.assertions.length;for(b=0;b<this.assertions.length;b++){if(!this.assertions[b].result){a++;aj.stats.bad++;aj.moduleStats.bad++}}ap("testDone",{name:this.testName,module:this.module.name,skipped:!!this.skip,failed:a,passed:this.assertions.length-a,total:this.assertions.length,runtime:this.runtime,assertions:this.assertions,testId:this.testId,source:this.stack,duration:this.runtime});ar.reset();aj.current=undefined},queue:function(){var b,c=this;if(!this.valid()){return}function a(){aa([function(){c.before()},c.hooks("beforeEach"),function(){c.run()},c.hooks("afterEach").reverse(),function(){c.after()},function(){c.finish()}])}b=ar.config.reorder&&ab.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module.name+"-"+this.testName);return aa(a,b,aj.seed)},pushResult:function(a){var c,b={module:this.module.name,name:this.testName,result:a.result,message:a.message,actual:a.actual,expected:a.expected,testId:this.testId,negative:a.negative||false,runtime:ae()-this.started};if(!a.result){c=ac();if(c){b.source=c}}ap("log",b);this.assertions.push({result:!!a.result,message:a.message})},pushFailure:function(a,d,c){if(!(this instanceof aN)){throw new Error("pushFailure() assertion outside test context, was "+ac(2))}var b={module:this.module.name,name:this.testName,result:false,message:a||"error",actual:c||null,testId:this.testId,runtime:ae()-this.started};if(d){b.source=d}ap("log",b);this.assertions.push({result:false,message:a})},resolvePromise:function(d,b){var e,a,c=this;if(d!=null){e=d.then;if(ar.objectType(e)==="function"){ar.stop();e.call(d,function(){ar.start()},function(f){a="Promise rejected "+(!b?"during":b.replace(/Each$/,""))+" "+c.testName+": "+(f.message||f);c.pushFailure(a,aF(f,0));aD();ar.start()})}}},valid:function(){var e=aj.filter,a=/^(!?)\/([\w\W]*)\/(i?$)/.exec(e),f=aj.module&&aj.module.toLowerCase(),d=(this.module.name+": "+this.testName);function b(h){var g=h.name?h.name.toLowerCase():null;if(g===f){return true}else{if(h.parentModule){return b(h.parentModule)}else{return false}}}function c(g){return Y(g.moduleId,aj.moduleId)>-1||g.parentModule&&c(g.parentModule)}if(this.callback&&this.callback.validTest){return true}if(aj.moduleId&&aj.moduleId.length>0&&!c(this.module)){return false}if(aj.testId&&aj.testId.length>0&&Y(this.testId,aj.testId)<0){return false}if(f&&!b(this.module)){return false}if(!e){return true}return a?this.regexFilter(!!a[1],a[2],a[3],d):this.stringFilter(e,d)},regexFilter:function(a,d,b,c){var e=new RegExp(d,b);var f=e.test(c);return f!==a},stringFilter:function(a,c){a=a.toLowerCase();c=c.toLowerCase();var b=a.charAt(0)!=="!";if(!b){a=a.slice(1)}if(c.indexOf(a)!==-1){return b}return !b}};ar.reset=function(){if(!ab.document){return}var a=ab.document&&document.getElementById&&document.getElementById("qunit-fixture");if(a){a.innerHTML=aj.fixture}};ar.pushFailure=function(){if(!ar.config.current){throw new Error("pushFailure() assertion outside test context, in "+ac(2))}var a=ar.config.current;return a.pushFailure.apply(a,arguments)};function am(f,a){var e,g=0,d=0,c=f+"\x1C"+a,b=c.length;for(;g<b;g++){d=((d<<5)-d)+c.charCodeAt(g);d|=0}e=(4294967296+d).toString(16);if(e.length<8){e="0000000"+e}return e.slice(-8)}function aa(c,e,b){var d=!e,a;if(ar.objectType(c)==="array"){while(c.length){aa(c.shift())}return}if(e){aj.queue.splice(X++,0,c)}else{if(b){if(!at){at=aB(b)}a=Math.floor(at()*(aj.queue.length-X+1));aj.queue.splice(X+a,0,c)}else{aj.queue.push(c)}}if(aj.autorun&&!aj.blocking){W(d)}}function aB(b){var a=parseInt(am(b),16)||-1;return function(){a^=a<<13;a^=a>>>17;a^=a<<5;if(a<0){a+=4294967296}return a/4294967296}}function aD(){aj.pollution=[];if(aj.noglobals){for(var a in aO){if(aE.call(aO,a)){if(/^qunit-test-output/.test(a)){continue}aj.pollution.push(a)}}}}function ad(){var a,c,b=aj.pollution;aD();a=an(aj.pollution,b);if(a.length>0){ar.pushFailure("Introduced global variable(s): "+a.join(", "))}c=an(b,aj.pollution);if(c.length>0){ar.pushFailure("Deleted global variable(s): "+c.join(", "))}}function aw(b,a,c){if(arguments.length===2){c=a;a=null}ar.test(b,a,c,true)}function aH(b,e,c,a){if(aI){return}var d;if(arguments.length===2){c=e;e=null}d=new aN({testName:b,expected:e,async:a,callback:c});d.queue()}function av(b){if(aI){return}var a=new aN({testName:b,skip:true});a.queue()}function ax(b,e,c,a){var d;if(aI){return}ar.config.queue.length=0;aI=true;if(arguments.length===2){c=e;e=null}d=new aN({testName:b,expected:e,async:a,callback:c});d.queue()}function aJ(a){this.test=a}ar.assert=aJ.prototype={expect:function(a){if(arguments.length===1){this.test.expected=a}else{return this.test.expected}},async:function(e){var c=this.test,a=false,d=e;if(typeof d==="undefined"){d=1}c.semaphore+=1;c.usedAsync=true;aG();return function b(){if(a){c.pushFailure("Too many calls to the `assert.async` callback",ac(2));return}d-=1;if(d>0){return}c.semaphore-=1;a=true;Z()}},push:function(b,d,e,f,a){var c=this instanceof aJ?this:ar.config.current.assert;return c.pushResult({result:b,actual:d,expected:e,message:f,negative:a})},pushResult:function(a){var b=this,c=(b instanceof aJ&&b.test)||ar.config.current;if(!c){throw new Error("assertion outside test context, in "+ac(2))}if(c.usedAsync===true&&c.semaphore===0){c.pushFailure("Assertion after the final `assert.async` was resolved",ac(2))}if(!(b instanceof aJ)){b=c.assert}return b.test.pushResult(a)},ok:function(b,a){a=a||(b?"okay":"failed, expected argument to be truthy, was: "+ar.dump.parse(b));this.pushResult({result:!!b,actual:b,expected:true,message:a})},notOk:function(b,a){a=a||(!b?"okay":"failed, expected argument to be falsy, was: "+ar.dump.parse(b));this.pushResult({result:!b,actual:b,expected:false,message:a})},equal:function(c,a,b){this.pushResult({result:a==c,actual:c,expected:a,message:b})},notEqual:function(c,a,b){this.pushResult({result:a!=c,actual:c,expected:a,message:b,negative:true})},propEqual:function(c,a,b){c=aK(c);a=aK(a);this.pushResult({result:ar.equiv(c,a),actual:c,expected:a,message:b})},notPropEqual:function(c,a,b){c=aK(c);a=aK(a);this.pushResult({result:!ar.equiv(c,a),actual:c,expected:a,message:b,negative:true})},deepEqual:function(c,a,b){this.pushResult({result:ar.equiv(c,a),actual:c,expected:a,message:b})},notDeepEqual:function(c,a,b){this.pushResult({result:!ar.equiv(c,a),actual:c,expected:a,message:b,negative:true})},strictEqual:function(c,a,b){this.pushResult({result:a===c,actual:c,expected:a,message:b})},notStrictEqual:function(c,a,b){this.pushResult({result:a!==c,actual:c,expected:a,message:b,negative:true})},"throws":function(e,c,g){var i,f,h=c,a=false,d=(this instanceof aJ&&this.test)||ar.config.current;if(g==null&&typeof c==="string"){g=c;c=null}d.ignoreGlobalErrors=true;try{e.call(d.testEnvironment)}catch(b){i=b}d.ignoreGlobalErrors=false;if(i){f=ar.objectType(c);if(!c){a=true;h=null}else{if(f==="regexp"){a=c.test(aM(i))}else{if(f==="string"){a=c===aM(i)}else{if(f==="function"&&i instanceof c){a=true}else{if(f==="object"){a=i instanceof c.constructor&&i.name===c.name&&i.message===c.message}else{if(f==="function"&&c.call({},i)===true){h=null;a=true}}}}}}}d.assert.pushResult({result:a,actual:i,expected:h,message:g})}};(function(){aJ.prototype.raises=aJ.prototype["throws"]}());function aM(d){var a,c,b=d.toString();if(b.substring(0,7)==="[object"){a=d.name?d.name.toString():"Error";c=d.message?d.message.toString():"";if(a&&c){return a+": "+c}else{if(a){return a}else{if(c){return c}else{return"Error"}}}}else{return b}}ar.equiv=(function(){var d=[];var h=[];var a=[];var f=Object.getPrototypeOf||function(k){return k.__proto__};function g(l,k){if(typeof k==="object"){k=k.valueOf()}if(typeof l==="object"){l=l.valueOf()}return k===l}function c(m,n){var k=f(m);var l=f(n);if(m.constructor===n.constructor){return true}if(k&&k.constructor===null){k=null}if(l&&l.constructor===null){l=null}if((k===null&&l===Object.prototype)||(l===null&&k===Object.prototype)){return true}return false}function b(k){return"flags" in k?k.flags:k.toString().match(/[gimuy]*$/)[0]}var i={string:g,"boolean":g,number:g,"null":g,"undefined":g,symbol:g,date:g,nan:function(){return true},regexp:function(l,k){return k.source===l.source&&b(k)===b(l)},"function":function(){var k=d[d.length-1];return k!==Object&&typeof k!=="undefined"},array:function(m,k){var p,r,n,l,o,q;n=k.length;if(n!==m.length){return false}h.push(k);a.push(m);for(p=0;p<n;p++){l=false;for(r=0;r<h.length;r++){o=h[r]===k[p];q=a[r]===m[p];if(o||q){if(k[p]===m[p]||o&&q){l=true}else{h.pop();a.pop();return false}}}if(!l&&!e(k[p],m[p])){h.pop();a.pop();return false}}h.pop();a.pop();return true},set:function(n,m){var l,k=true;if(m.size!==n.size){return false}m.forEach(function(o){l=false;n.forEach(function(p){if(e(p,o)){l=true}});if(!l){k=false}});return k},map:function(n,m){var l,k=true;if(m.size!==n.size){return false}m.forEach(function(p,o){l=false;n.forEach(function(q,r){if(e([q,r],[p,o])){l=true}});if(!l){k=false}});return k},object:function(o,n){var r,s,p,q,l;var k=true;var t=[];var m=[];if(c(n,o)===false){return false}d.push(n.constructor);h.push(n);a.push(o);for(r in n){p=false;for(s=0;s<h.length;s++){q=h[s]===n[r];l=a[s]===o[r];if(q||l){if(n[r]===o[r]||q&&l){p=true}else{k=false;break}}}t.push(r);if(!p&&!e(n[r],o[r])){k=false;break}}h.pop();a.pop();d.pop();for(r in o){m.push(r)}return k&&e(t.sort(),m.sort())}};function j(l,m){var k=ar.objectType(l);return ar.objectType(m)===k&&i[k](m,l)}function e(k,l){if(arguments.length<2){return true}return(k===l||j(k,l))&&(arguments.length===2||e.apply(this,[].slice.call(arguments,1)))}return e}());ar.dump=(function(){function b(g){return'"'+g.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function a(g){return g+""}function e(g,l,j){var i=f.separator(),h=f.indent(),k=f.indent(1);if(l.join){l=l.join(","+i+k)}if(!l){return g+j}return[g,k+l,h+j].join(i)}function d(i,j){var g=i.length,h=new Array(g);if(f.maxDepth&&f.depth>f.maxDepth){return"[object Array]"}this.up();while(g--){h[g]=this.parse(i[g],undefined,j)}this.down();return e("[",h,"]")}var c=/^function (\w+)/,f={parse:function(i,h,m){m=m||[];var k,g,l,j=Y(i,m);if(j!==-1){return"recursion("+(j-m.length)+")"}h=h||this.typeOf(i);g=this.parsers[h];l=typeof g;if(l==="function"){m.push(i);k=g.call(this,i,m);m.pop();return k}return(l==="string")?g:this.parsers.error},typeOf:function(g){var h;if(g===null){h="null"}else{if(typeof g==="undefined"){h="undefined"}else{if(ar.is("regexp",g)){h="regexp"}else{if(ar.is("date",g)){h="date"}else{if(ar.is("function",g)){h="function"}else{if(g.setInterval!==undefined&&g.document!==undefined&&g.nodeType===undefined){h="window"}else{if(g.nodeType===9){h="document"}else{if(g.nodeType){h="node"}else{if(aL.call(g)==="[object Array]"||(typeof g.length==="number"&&g.item!==undefined&&(g.length?g.item(0)===g[0]:(g.item(0)===null&&g[0]===undefined)))){h="array"}else{if(g.constructor===Error.prototype.constructor){h="error"}else{h=typeof g}}}}}}}}}}return h},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&#160;":" "},indent:function(h){if(!this.multiline){return""}var g=this.indentChar;if(this.HTML){g=g.replace(/\t/g,"   ").replace(/ /g,"&#160;")}return new Array(this.depth+(h||0)).join(g)},up:function(g){this.depth+=g||1},down:function(g){this.depth-=g||1},setParser:function(h,g){this.parsers[h]=g},quote:b,literal:a,join:e,depth:1,maxDepth:ar.config.maxDepth,parsers:{window:"[Window]",document:"[Document]",error:function(g){return'Error("'+g.message+'")'},unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(g){var h="function",i="name" in g?g.name:(c.exec(g)||[])[1];if(i){h+=" "+i}h+="(";h=[h,f.parse(g,"functionArgs"),"){"].join("");return e(h,f.parse(g,"functionCode"),"}")},array:d,nodelist:d,"arguments":d,object:function(h,n){var j,k,g,l,i,m=[];if(f.maxDepth&&f.depth>f.maxDepth){return"[object Object]"}f.up();j=[];for(k in h){j.push(k)}i=["message","name"];for(l in i){k=i[l];if(k in h&&Y(k,j)<0){j.push(k)}}j.sort();for(l=0;l<j.length;l++){k=j[l];g=h[k];m.push(f.parse(k,"key")+": "+f.parse(g,undefined,n))}f.down();return e("{",m,"}")},node:function(n){var k,m,o,l=f.HTML?"&lt;":"<",h=f.HTML?"&gt;":">",g=n.nodeName.toLowerCase(),j=l+g,i=n.attributes;if(i){for(m=0,k=i.length;m<k;m++){o=i[m].nodeValue;if(o&&o!=="inherit"){j+=" "+i[m].nodeName+"="+f.parse(o,"attribute")}}}j+=h;if(n.nodeType===3||n.nodeType===4){j+=n.nodeValue}return j+l+"/"+g+h},functionArgs:function(g){var h,i=g.length;if(!i){return""}h=new Array(i);while(i--){h[i]=String.fromCharCode(97+i)}return" "+h.join(", ")+" "},key:b,functionCode:"[code]",attribute:b,string:b,date:b,regexp:a,number:a,"boolean":a},HTML:false,indentChar:"  ",multiline:true};return f}());ar.jsDump=ar.dump;(function(){var a,c=aJ.prototype;function b(d){return function(){var e=new aJ(ar.config.current);d.apply(e,arguments)}}for(a in c){ar[a]=b(c[a])}}());if(ab.document){(function(){var a,b,c=["test","module","expect","asyncTest","start","stop","ok","notOk","equal","notEqual","propEqual","notPropEqual","deepEqual","notDeepEqual","strictEqual","notStrictEqual","throws","raises"];for(a=0,b=c.length;a<b;a++){ag[c[a]]=ar[c[a]]}}());ag.QUnit=ar}if(typeof module!=="undefined"&&module&&module.exports){module.exports=ar;module.exports.QUnit=ar}if(typeof exports!=="undefined"&&exports){exports.QUnit=ar}if(typeof define==="function"&&define.amd){define(function(){return ar});ar.config.autostart=false}}((function(){return this}())));(function(){var am=typeof window!=="undefined"&&window.location;if(!am){return}var af=ad();QUnit.urlParams=af;QUnit.config.moduleId=[].concat(af.moduleId||[]);QUnit.config.testId=[].concat(af.testId||[]);QUnit.config.module=af.module;QUnit.config.filter=af.filter;if(af.seed===true){QUnit.config.seed=Math.random().toString(36).slice(2)}else{if(af.seed){QUnit.config.seed=af.seed}}QUnit.config.urlConfig.push({id:"hidepassed",label:"Hide passed tests",tooltip:"Only show tests and assertions that fail. Stored as query-strings."},{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the global object (`window` in Browsers). Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."});QUnit.begin(function(){var c,b,a=QUnit.config.urlConfig;for(c=0;c<a.length;c++){b=QUnit.config.urlConfig[c];if(typeof b!=="string"){b=b.id}if(QUnit.config[b]===undefined){QUnit.config[b]=af[b]}}});function ad(){var e,a,f,c;var g={};var b=am.search.slice(1).split("&");var d=b.length;for(e=0;e<d;e++){if(b[e]){a=b[e].split("=");f=decodeURIComponent(a[0]);c=a.length===1||decodeURIComponent(a.slice(1).join("="));if(g[f]){g[f]=[].concat(g[f],c)}else{g[f]=c}}}return g}if(typeof window==="undefined"||!window.document){return}QUnit.init=function(){var a=QUnit.config;a.stats={all:0,bad:0};a.moduleStats={all:0,bad:0};a.started=0;a.updateRate=1000;a.blocking=false;a.autostart=true;a.autorun=false;a.filter="";a.queue=[];N()};var aa=QUnit.config,aw=window.document,X=false,ar=Object.prototype.hasOwnProperty,az=av({filter:undefined,module:undefined,moduleId:undefined,testId:undefined}),T={sessionStorage:(function(){var b="qunit-test-string";try{sessionStorage.setItem(b,b);sessionStorage.removeItem(b);return true}catch(a){return false}}())},ac=[];function ag(a){if(!a){return""}a=a+"";return a.replace(/['"<>&]/g,function(b){switch(b){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}})}function at(a,b,c){if(a.addEventListener){a.addEventListener(b,c,false)}else{if(a.attachEvent){a.attachEvent("on"+b,function(){var d=window.event;if(!d.target){d.target=d.srcElement||aw}c.call(a,d)})}}}function al(d,a,b){var c=d.length;while(c--){at(d[c],a,b)}}function V(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>=0}function ai(a,b){if(!V(a,b)){a.className+=(a.className?" ":"")+b}}function ay(b,c,a){if(a||typeof a==="undefined"&&!V(b,c)){ai(b,c)}else{ao(b,c)}}function ao(b,c){var a=" "+b.className+" ";while(a.indexOf(" "+c+" ")>=0){a=a.replace(" "+c+" "," ")}b.className=typeof a.trim==="function"?a.trim():a.replace(/^\s+|\s+$/g,"")}function ab(a){return aw.getElementById&&aw.getElementById(a)}function aA(){var f,g,a,b,d,e=false,c=aa.urlConfig,h="";for(f=0;f<c.length;f++){a=aa.urlConfig[f];if(typeof a==="string"){a={id:a,label:a}}b=ag(a.id);d=ag(a.tooltip);if(!a.value||typeof a.value==="string"){h+="<input id='qunit-urlconfig-"+b+"' name='"+b+"' type='checkbox'"+(a.value?" value='"+ag(a.value)+"'":"")+(aa[a.id]?" checked='checked'":"")+" title='"+d+"' /><label for='qunit-urlconfig-"+b+"' title='"+d+"'>"+a.label+"</label>"}else{h+="<label for='qunit-urlconfig-"+b+"' title='"+d+"'>"+a.label+": </label><select id='qunit-urlconfig-"+b+"' name='"+b+"' title='"+d+"'><option></option>";if(QUnit.is("array",a.value)){for(g=0;g<a.value.length;g++){b=ag(a.value[g]);h+="<option value='"+b+"'"+(aa[a.id]===a.value[g]?(e=true)&&" selected='selected'":"")+">"+b+"</option>"}}else{for(g in a.value){if(ar.call(a.value,g)){h+="<option value='"+ag(g)+"'"+(aa[a.id]===g?(e=true)&&" selected='selected'":"")+">"+ag(a.value[g])+"</option>"}}}if(aa[a.id]&&!e){b=ag(aa[a.id]);h+="<option value='"+b+"' selected='selected' disabled='disabled'>"+b+"</option>"}h+="</select>"}}return h}function aj(){var d,c,e,b=this,a={};if("selectedIndex" in b){c=b.options[b.selectedIndex].value||undefined}else{c=b.checked?(b.defaultValue||true):undefined}a[b.name]=c;d=av(a);if("hidepassed"===b.name&&"replaceState" in window.history){QUnit.urlParams[b.name]=c;aa[b.name]=c||false;e=ab("qunit-tests");if(e){ay(e,"hidepass",c||false)}window.history.replaceState(null,"",d)}else{window.location=d}}function av(a){var b,e,c,f="?",d=window.location;a=QUnit.extend(QUnit.extend({},QUnit.urlParams),a);for(b in a){if(ar.call(a,b)&&a[b]!==undefined){e=[].concat(a[b]);for(c=0;c<e.length;c++){f+=encodeURIComponent(b);if(e[c]!==true){f+="="+encodeURIComponent(e[c])}f+="&"}}}return d.protocol+"//"+d.host+d.pathname+f.slice(0,-1)}function U(){var c,a=ab("qunit-modulefilter"),b=ab("qunit-filter-input").value;c=a?decodeURIComponent(a.options[a.selectedIndex].value):undefined;window.location=av({module:(c==="")?undefined:c,filter:(b==="")?undefined:b,moduleId:undefined,testId:undefined})}function W(){var a=aw.createElement("span");a.innerHTML=aA();ai(a,"qunit-url-config");al(a.getElementsByTagName("input"),"click",aj);al(a.getElementsByTagName("select"),"change",aj);return a}function S(){var a=aw.createElement("form"),c=aw.createElement("label"),d=aw.createElement("input"),b=aw.createElement("button");ai(a,"qunit-filter");c.innerHTML="Filter: ";d.type="text";d.value=aa.filter||"";d.name="filter";d.id="qunit-filter-input";b.innerHTML="Go";c.appendChild(d);a.appendChild(c);a.appendChild(b);at(a,"submit",function(e){U();if(e&&e.preventDefault){e.preventDefault()}return false});return a}function ae(){var a,b="";if(!ac.length){return false}b+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(QUnit.urlParams.module===undefined?"selected='selected'":"")+">< All Modules ></option>";for(a=0;a<ac.length;a++){b+="<option value='"+ag(encodeURIComponent(ac[a]))+"' "+(QUnit.urlParams.module===ac[a]?"selected='selected'":"")+">"+ag(ac[a])+"</option>"}b+="</select>";return b}function R(){var a=ab("qunit-testrunner-toolbar"),c=aw.createElement("span"),b=ae();if(!a||!b){return false}c.setAttribute("id","qunit-modulefilter-container");c.innerHTML=b;at(c.lastChild,"change",U);a.appendChild(c)}function au(){var a=ab("qunit-testrunner-toolbar");if(a){a.appendChild(W());a.appendChild(S());R()}}function O(){var a=ab("qunit-header");if(a){a.innerHTML="<a href='"+ag(az)+"'>"+a.innerHTML+"</a> "}}function ax(){var a=ab("qunit-banner");if(a){a.className=""}}function aq(){var a=ab("qunit-tests"),b=ab("qunit-testresult");if(b){b.parentNode.removeChild(b)}if(a){a.innerHTML="";b=aw.createElement("p");b.id="qunit-testresult";b.className="result";a.parentNode.insertBefore(b,a);b.innerHTML="Running...<br />&#160;"}}function ah(){var a=ab("qunit-fixture");if(a){aa.fixture=a.innerHTML}}function P(){var a=QUnit.config.testId;if(!a||a.length<=0){return""}return"<div id='qunit-filteredTest'>Rerunning selected tests: "+ag(a.join(", "))+" <a id='qunit-clearFilter' href='"+ag(az)+"'>Run all tests</a></div>"}function Z(){var a=ab("qunit-userAgent");if(a){a.innerHTML="";a.appendChild(aw.createTextNode("QUnit "+QUnit.version+"; "+navigator.userAgent))}}function N(){var a=ab("qunit");if(a){a.innerHTML="<h1 id='qunit-header'>"+ag(aw.title)+"</h1><h2 id='qunit-banner'></h2><div id='qunit-testrunner-toolbar'></div>"+P()+"<h2 id='qunit-userAgent'></h2><ol id='qunit-tests'></ol>"}O();ax();aq();Z();au()}function ak(e){var d,f,g,b,a,c;for(d=0,f=e.length;d<f;d++){c=e[d];for(g=0,b=c.tests.length;g<b;g++){a=c.tests[g];an(a.name,a.testId,c.name)}}}function an(f,g,h){var b,c,a,d,e=ab("qunit-tests");if(!e){return}b=aw.createElement("strong");b.innerHTML=Y(f,h);c=aw.createElement("a");c.innerHTML="Rerun";c.href=av({testId:g});a=aw.createElement("li");a.appendChild(b);a.appendChild(c);a.id="qunit-test-output-"+g;d=aw.createElement("ol");d.className="qunit-assert-list";a.appendChild(d);e.appendChild(a)}QUnit.begin(function(c){var d,a,b;for(d=0;d<c.modules.length;d++){a=c.modules[d];if(a.name){ac.push(a.name)}}ac.sort(function(e,f){return e.localeCompare(f)});ah();N();ak(c.modules);b=ab("qunit-tests");if(b&&aa.hidepassed){ai(b,"hidepass")}});QUnit.done(function(b){var c,d,f=ab("qunit-banner"),a=ab("qunit-tests"),e=["Tests completed in ",b.runtime," milliseconds.<br />","<span class='passed'>",b.passed,"</span> assertions of <span class='total'>",b.total,"</span> passed, <span class='failed'>",b.failed,"</span> failed."].join("");if(f){f.className=b.failed?"qunit-fail":"qunit-pass"}if(a){ab("qunit-testresult").innerHTML=e}if(aa.altertitle&&aw.title){aw.title=[(b.failed?"\u2716":"\u2714"),aw.title.replace(/^[\u2714\u2716] /i,"")].join(" ")}if(aa.reorder&&T.sessionStorage&&b.failed===0){for(c=0;c<sessionStorage.length;c++){d=sessionStorage.key(c++);if(d.indexOf("qunit-test-")===0){sessionStorage.removeItem(d)}}}if(aa.scrolltop&&window.scrollTo){window.scrollTo(0,0)}});function Y(c,b){var a="";if(b){a="<span class='module-name'>"+ag(b)+"</span>: "}a+="<span class='test-name'>"+ag(c)+"</span>";return a}QUnit.testStart(function(c){var d,a,b;a=ab("qunit-test-output-"+c.testId);if(a){a.className="running"}else{an(c.name,c.testId,c.module)}d=ab("qunit-testresult");if(d){b=QUnit.config.reorder&&T.sessionStorage&&+sessionStorage.getItem("qunit-test-"+c.module+"-"+c.name);d.innerHTML=(b?"Rerunning previously failed test: <br />":"Running: <br />")+Y(c.name,c.module)}});function ap(a){return a.replace(/<\/?[^>]+(>|$)/g,"").replace(/\&quot;/g,"").replace(/\s+/g,"")}QUnit.log(function(i){var g,c,a,f,b,d,e=false,h=ab("qunit-test-output-"+i.testId);if(!h){return}a=ag(i.message)||(i.result?"okay":"failed");a="<span class='test-message'>"+a+"</span>";a+="<span class='runtime'>@ "+i.runtime+" ms</span>";if(!i.result&&ar.call(i,"expected")){if(i.negative){f="NOT "+QUnit.dump.parse(i.expected)}else{f=QUnit.dump.parse(i.expected)}b=QUnit.dump.parse(i.actual);a+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+ag(f)+"</pre></td></tr>";if(b!==f){a+="<tr class='test-actual'><th>Result: </th><td><pre>"+ag(b)+"</pre></td></tr>";if(!(/^(true|false)$/.test(b))&&!(/^(true|false)$/.test(f))){d=QUnit.diff(f,b);e=ap(d).length!==ap(f).length+ap(b).length}if(e){a+="<tr class='test-diff'><th>Diff: </th><td><pre>"+d+"</pre></td></tr>"}}else{if(f.indexOf("[object Array]")!==-1||f.indexOf("[object Object]")!==-1){a+="<tr class='test-message'><th>Message: </th><td>Diff suppressed as the depth of object is more than current max depth ("+QUnit.config.maxDepth+").<p>Hint: Use <code>QUnit.dump.maxDepth</code> to  run with a higher max depth or <a href='"+ag(av({maxDepth:-1}))+"'>Rerun</a> without max depth.</p></td></tr>"}else{a+="<tr class='test-message'><th>Message: </th><td>Diff suppressed as the expected and actual results have an equivalent serialization</td></tr>"}}if(i.source){a+="<tr class='test-source'><th>Source: </th><td><pre>"+ag(i.source)+"</pre></td></tr>"}a+="</table>"}else{if(!i.result&&i.source){a+="<table><tr class='test-source'><th>Source: </th><td><pre>"+ag(i.source)+"</pre></td></tr></table>"}}g=h.getElementsByTagName("ol")[0];c=aw.createElement("li");c.className=i.result?"pass":"fail";c.innerHTML=a;g.appendChild(c)});QUnit.testDone(function(k){var a,g,d,e,f,h,c,b,j,i=ab("qunit-tests");if(!i){return}d=ab("qunit-test-output-"+k.testId);e=d.getElementsByTagName("ol")[0];f=k.passed;h=k.failed;if(aa.reorder&&T.sessionStorage){if(h){sessionStorage.setItem("qunit-test-"+k.module+"-"+k.name,h)}else{sessionStorage.removeItem("qunit-test-"+k.module+"-"+k.name)}}if(h===0){ai(e,"qunit-collapsed")}else{if(h&&aa.collapse&&!X){X=true}else{ai(e,"qunit-collapsed")}}a=d.firstChild;c=h?"<b class='failed'>"+h+"</b>, <b class='passed'>"+f+"</b>, ":"";a.innerHTML+=" <b class='counts'>("+c+k.assertions.length+")</b>";if(k.skipped){d.className="skipped";b=aw.createElement("em");b.className="qunit-skipped-label";b.innerHTML="skipped";d.insertBefore(b,a)}else{at(a,"click",function(){ay(e,"qunit-collapsed")});d.className=h?"fail":"pass";g=aw.createElement("span");g.className="runtime";g.innerHTML=k.runtime+" ms";d.insertBefore(g,e)}if(k.source){j=aw.createElement("p");j.innerHTML="<strong>Source: </strong>"+k.source;ai(j,"qunit-source");if(h===0){ai(j,"qunit-collapsed")}at(a,"click",function(){ay(j,"qunit-collapsed")});d.appendChild(j)}});var Q=(function(a){return !(a&&a.version&&a.version.major>0)})(window.phantom);if(Q&&aw.readyState==="complete"){QUnit.load()}else{at(window,"load",QUnit.load)}QUnit.diff=(function(){function a(){}var b=-1,c=1,d=0;a.prototype.DiffMain=function(l,m,g){var f,e,j,h,k,i;f=(new Date()).getTime()+1000;if(l===null||m===null){throw new Error("Null input. (DiffMain)")}if(l===m){if(l){return[[d,l]]}return[]}if(typeof g==="undefined"){g=true}e=g;j=this.diffCommonPrefix(l,m);h=l.substring(0,j);l=l.substring(j);m=m.substring(j);j=this.diffCommonSuffix(l,m);k=l.substring(l.length-j);l=l.substring(0,l.length-j);m=m.substring(0,m.length-j);i=this.diffCompute(l,m,e,f);if(h){i.unshift([d,h])}if(k){i.push([d,k])}this.diffCleanupMerge(i);return i};a.prototype.diffCleanupEfficiency=function(g){var e,h,k,j,n,f,m,l,i;e=false;h=[];k=0;j=null;n=0;f=false;m=false;l=false;i=false;while(n<g.length){if(g[n][0]===d){if(g[n][1].length<4&&(l||i)){h[k++]=n;f=l;m=i;j=g[n][1]}else{k=0;j=null}l=i=false}else{if(g[n][0]===b){i=true}else{l=true}if(j&&((f&&m&&l&&i)||((j.length<2)&&(f+m+l+i)===3))){g.splice(h[k-1],0,[b,j]);g[h[k-1]+1][0]=c;k--;j=null;if(f&&m){l=i=true;k=0}else{k--;n=k>0?h[k-1]:-1;l=i=false}e=true}}n++}if(e){this.diffCleanupMerge(g)}};a.prototype.diffPrettyHtml=function(f){var e,g,i,h=[];for(i=0;i<f.length;i++){e=f[i][0];g=f[i][1];switch(e){case c:h[i]="<ins>"+ag(g)+"</ins>";break;case b:h[i]="<del>"+ag(g)+"</del>";break;case d:h[i]="<span>"+ag(g)+"</span>";break}}return h.join("")};a.prototype.diffCommonPrefix=function(f,g){var j,e,i,h;if(!f||!g||f.charAt(0)!==g.charAt(0)){return 0}i=0;e=Math.min(f.length,g.length);j=e;h=0;while(i<j){if(f.substring(h,j)===g.substring(h,j)){i=j;h=i}else{e=j}j=Math.floor((e-i)/2+i)}return j};a.prototype.diffCommonSuffix=function(g,h){var j,f,i,e;if(!g||!h||g.charAt(g.length-1)!==h.charAt(h.length-1)){return 0}i=0;f=Math.min(g.length,h.length);j=f;e=0;while(i<j){if(g.substring(g.length-j,g.length-e)===h.substring(h.length-j,h.length-e)){i=j;e=i}else{f=j}j=Math.floor((f-i)/2+i)}return j};a.prototype.diffCompute=function(l,m,o,p){var t,s,j,f,n,q,e,r,g,k,h,i;if(!l){return[[c,m]]}if(!m){return[[b,l]]}s=l.length>m.length?l:m;j=l.length>m.length?m:l;f=s.indexOf(j);if(f!==-1){t=[[c,s.substring(0,f)],[d,j],[c,s.substring(f+j.length)]];if(l.length>m.length){t[0][0]=t[2][0]=b}return t}if(j.length===1){return[[b,l],[c,m]]}n=this.diffHalfMatch(l,m);if(n){q=n[0];r=n[1];e=n[2];g=n[3];k=n[4];h=this.DiffMain(q,e,o,p);i=this.DiffMain(r,g,o,p);return h.concat([[d,k]],i)}if(o&&l.length>100&&m.length>100){return this.diffLineMode(l,m,p)}return this.diffBisect(l,m,p)};a.prototype.diffHalfMatch=function(l,m){var e,j,o,p,i,h,q,k,f,g,n;e=l.length>m.length?l:m;j=l.length>m.length?m:l;if(e.length<4||j.length*2<e.length){return null}o=this;function r(x,C,A){var z,B,D,y,w,s,t,u,v;z=x.substring(A,A+Math.floor(x.length/4));B=-1;D="";while((B=C.indexOf(z,B+1))!==-1){y=o.diffCommonPrefix(x.substring(A),C.substring(B));w=o.diffCommonSuffix(x.substring(0,A),C.substring(0,B));if(D.length<w+y){D=C.substring(B-w,B)+C.substring(B,B+y);s=x.substring(0,A-w);t=x.substring(A+y);u=C.substring(0,B-w);v=C.substring(B+y)}}if(D.length*2>=x.length){return[s,t,u,v,D]}else{return null}}f=r(e,j,Math.ceil(e.length/4));g=r(e,j,Math.ceil(e.length/2));if(!f&&!g){return null}else{if(!g){n=f}else{if(!f){n=g}else{n=f[4].length>g[4].length?f:g}}}p,q,h,i;if(l.length>m.length){p=n[0];q=n[1];h=n[2];i=n[3]}else{h=n[0];i=n[1];p=n[2];q=n[3]}k=n[4];return[p,q,h,i,k]};a.prototype.diffLineMode=function(l,m,o){var p,g,k,n,i,h,f,e,j;p=this.diffLinesToChars(l,m);l=p.chars1;m=p.chars2;k=p.lineArray;g=this.DiffMain(l,m,false,o);this.diffCharsToLines(g,k);this.diffCleanupSemantic(g);g.push([d,""]);n=0;h=0;i=0;e="";f="";while(n<g.length){switch(g[n][0]){case c:i++;f+=g[n][1];break;case b:h++;e+=g[n][1];break;case d:if(h>=1&&i>=1){g.splice(n-h-i,h+i);n=n-h-i;p=this.DiffMain(e,f,false,o);for(j=p.length-1;j>=0;j--){g.splice(n,0,p[j])}n=n+p.length}i=0;h=0;e="";f="";break}n++}g.pop();return g};a.prototype.diffBisect=function(B,D,o){var u,x,i,v,y,k,m,C,n,h,w,z,s,t,e,A,q,r,j,l,p,f,g;u=B.length;x=D.length;i=Math.ceil((u+x)/2);v=i;y=2*i;k=new Array(y);m=new Array(y);for(C=0;C<y;C++){k[C]=-1;m[C]=-1}k[v+1]=0;m[v+1]=0;n=u-x;h=(n%2!==0);w=0;z=0;s=0;t=0;for(p=0;p<i;p++){if((new Date()).getTime()>o){break}for(f=-p+w;f<=p-z;f+=2){A=v+f;if(f===-p||(f!==p&&k[A-1]<k[A+1])){q=k[A+1]}else{q=k[A-1]+1}j=q-f;while(q<u&&j<x&&B.charAt(q)===D.charAt(j)){q++;j++}k[A]=q;if(q>u){z+=2}else{if(j>x){w+=2}else{if(h){e=v+n-f;if(e>=0&&e<y&&m[e]!==-1){r=u-m[e];if(q>=r){return this.diffBisectSplit(B,D,q,j,o)}}}}}}for(g=-p+s;g<=p-t;g+=2){e=v+g;if(g===-p||(g!==p&&m[e-1]<m[e+1])){r=m[e+1]}else{r=m[e-1]+1}l=r-g;while(r<u&&l<x&&B.charAt(u-r-1)===D.charAt(x-l-1)){r++;l++}m[e]=r;if(r>u){t+=2}else{if(l>x){s+=2}else{if(!h){A=v+n-g;if(A>=0&&A<y&&k[A]!==-1){q=k[A];j=v+q-A;r=u-r;if(q>=r){return this.diffBisectSplit(B,D,q,j,o)}}}}}}}return[[b,B],[c,D]]};a.prototype.diffBisectSplit=function(k,l,f,g,o){var i,j,m,n,h,e;i=k.substring(0,f);m=l.substring(0,g);j=k.substring(f);n=l.substring(g);h=this.DiffMain(i,m,false,o);e=this.DiffMain(j,n,false,o);return h.concat(e)};a.prototype.diffCleanupSemantic=function(g){var r,h,k,j,m,q,o,p,n,i,l,e,f;r=false;h=[];k=0;j=null;m=0;p=0;n=0;q=0;o=0;while(m<g.length){if(g[m][0]===d){h[k++]=m;p=q;n=o;q=0;o=0;j=g[m][1]}else{if(g[m][0]===c){q+=g[m][1].length}else{o+=g[m][1].length}if(j&&(j.length<=Math.max(p,n))&&(j.length<=Math.max(q,o))){g.splice(h[k-1],0,[b,j]);g[h[k-1]+1][0]=c;k--;k--;m=k>0?h[k-1]:-1;p=0;n=0;q=0;o=0;j=null;r=true}}m++}if(r){this.diffCleanupMerge(g)}m=1;while(m<g.length){if(g[m-1][0]===b&&g[m][0]===c){i=g[m-1][1];l=g[m][1];e=this.diffCommonOverlap(i,l);f=this.diffCommonOverlap(l,i);if(e>=f){if(e>=i.length/2||e>=l.length/2){g.splice(m,0,[d,l.substring(0,e)]);g[m-1][1]=i.substring(0,i.length-e);g[m+1][1]=l.substring(e);m++}}else{if(f>=i.length/2||f>=l.length/2){g.splice(m,0,[d,i.substring(0,f)]);g[m-1][0]=c;g[m-1][1]=l.substring(0,l.length-f);g[m+1][0]=b;g[m+1][1]=i.substring(f);m++}}m++}m++}};a.prototype.diffCommonOverlap=function(l,m){var j,g,e,i,k,h,f;j=l.length;g=m.length;if(j===0||g===0){return 0}if(j>g){l=l.substring(j-g)}else{if(j<g){m=m.substring(0,j)}}e=Math.min(j,g);if(l===m){return e}i=0;k=1;while(true){h=l.substring(e-k);f=m.indexOf(h);if(f===-1){return i}k+=f;if(f===0||l.substring(e-k)===m.substring(0,k)){i=k;k++}}};a.prototype.diffLinesToChars=function(k,e){var f,j,g,h;f=[];j={};f[0]="";function i(l){var n,p,m,o,q;n="";p=0;m=-1;o=f.length;while(m<l.length-1){m=l.indexOf("\n",p);if(m===-1){m=l.length-1}q=l.substring(p,m+1);p=m+1;if(j.hasOwnProperty?j.hasOwnProperty(q):(j[q]!==undefined)){n+=String.fromCharCode(j[q])}else{n+=String.fromCharCode(o);j[q]=o;f[o++]=q}}return n}g=i(k);h=i(e);return{chars1:g,chars2:h,lineArray:f}};a.prototype.diffCharsToLines=function(f,i){var j,h,g,e;for(j=0;j<f.length;j++){h=f[j][1];g=[];for(e=0;e<h.length;e++){g[e]=i[h.charCodeAt(e)]}f[j][1]=g.join("")}};a.prototype.diffCleanupMerge=function(h){var n,j,l,g,f,k,e,i,m;h.push([d,""]);n=0;j=0;l=0;f="";g="";k;while(n<h.length){switch(h[n][0]){case c:l++;g+=h[n][1];n++;break;case b:j++;f+=h[n][1];n++;break;case d:if(j+l>1){if(j!==0&&l!==0){k=this.diffCommonPrefix(g,f);if(k!==0){if((n-j-l)>0&&h[n-j-l-1][0]===d){h[n-j-l-1][1]+=g.substring(0,k)}else{h.splice(0,0,[d,g.substring(0,k)]);n++}g=g.substring(k);f=f.substring(k)}k=this.diffCommonSuffix(g,f);if(k!==0){h[n][1]=g.substring(g.length-k)+h[n][1];g=g.substring(0,g.length-k);f=f.substring(0,f.length-k)}}if(j===0){h.splice(n-l,j+l,[c,g])}else{if(l===0){h.splice(n-j,j+l,[b,f])}else{h.splice(n-j-l,j+l,[b,f],[c,g])}}n=n-j-l+(j?1:0)+(l?1:0)+1}else{if(n!==0&&h[n-1][0]===d){h[n-1][1]+=h[n][1];h.splice(n,1)}else{n++}}l=0;j=0;f="";g="";break}}if(h[h.length-1][1]===""){h.pop()}e=false;n=1;while(n<h.length-1){if(h[n-1][0]===d&&h[n+1][0]===d){i=h[n][1];m=i.substring(i.length-h[n-1][1].length);if(m===h[n-1][1]){h[n][1]=h[n-1][1]+h[n][1].substring(0,h[n][1].length-h[n-1][1].length);h[n+1][1]=h[n-1][1]+h[n+1][1];h.splice(n-1,1);e=true}else{if(i.substring(0,h[n+1][1].length)===h[n+1][1]){h[n-1][1]+=h[n+1][1];h[n][1]=h[n][1].substring(h[n+1][1].length)+h[n+1][1];h.splice(n+1,1);e=true}}}n++}if(e){this.diffCleanupMerge(h)}};return function(f,e){var h,i,g;h=new a();i=h.DiffMain(f,e);h.diffCleanupEfficiency(i);g=h.diffPrettyHtml(i);return g}}())}());