module("Data adapters - <input> compatibility");var $=require("jquery");var Options=require("select2/options");var Utils=require("select2/utils");var ArrayData=require("select2/data/array");var InputData=require("select2/compat/inputData");var InputAdapter=Utils.Decorate(ArrayData,InputData);test("test that options can be selected",function(h){var g=new Options({data:[{id:"test",text:"Test"}]});var e=$("<input />");var f=new InputAdapter(e,g);f.select({id:"test"});h.equal(e.val(),"test","The id of the item should be the value")});test("unselect the single selected option clears the value",function(h){var g=new Options({data:[{id:"test",text:"Test",selected:true}]});var e=$("<input />");var f=new InputAdapter(e,g);f.unselect({id:"test"});h.equal(e.val(),"","The id should no longer be in the value")});test("options can be unselected individually",function(h){var g=new Options({data:[{id:"test",text:"Test"},{id:"test2",text:"Test2"},{id:"test3",text:"Test3"}]});var e=$("<input />");e.val("test,test2,test3");var f=new InputAdapter(e,g);f.unselect({id:"test2"});h.equal(e.val(),"test,test3","The value should contain all the still selected options")});test("default values can be set",function(h){h.expect(4);var g=new Options({data:[{id:"test",text:"Test"}]});var e=$('<input value="test" />');var f=new InputAdapter(e,g);f.current(function(a){h.equal(a.length,1,"There should only be a single selected option");var b=a[0];h.equal(b.id,"test");h.equal(b.text,"Test")});h.equal(e.val(),"test","The value should not have been altered")});test("no default value",function(h){h.expect(2);var g=new Options({data:[{id:"test",text:"Test"}]});var e=$("<input />");var f=new InputAdapter(e,g);f.current(function(a){h.equal(a.length,0,"There should be no selected options")});h.equal(e.val(),"","The value should not have been altered")});