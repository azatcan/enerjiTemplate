define(["jquery","./base","../utils"],function(g,f,h){function e(b,a){e.__super__.constructor.apply(this,arguments)}h.Extend(e,f);e.prototype.render=function(){var a=e.__super__.render.call(this);a.addClass("select2-selection--multiple");a.html('<ul class="select2-selection__rendered"></ul>');return a};e.prototype.bind=function(c,a){var b=this;e.__super__.bind.apply(this,arguments);this.$selection.on("click",function(d){b.trigger("toggle",{originalEvent:d})});this.$selection.on("click",".select2-selection__choice__remove",function(m){if(b.options.get("disabled")){return}var l=g(this);var n=l.parent();var d=h.GetData(n[0],"data");b.trigger("unselect",{originalEvent:m,data:d})})};e.prototype.clear=function(){var a=this.$selection.find(".select2-selection__rendered");a.empty();a.removeAttr("title")};e.prototype.display=function(a,c){var b=this.options.get("templateSelection");var d=this.options.get("escapeMarkup");return d(b(a,c))};e.prototype.selectionContainer=function(){var a=g('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return a};e.prototype.update=function(c){this.clear();if(c.length===0){return}var m=[];for(var a=0;a<c.length;a++){var l=c[a];var n=this.selectionContainer();var d=this.display(l,n);n.append(d);n.attr("title",l.title||l.text);h.StoreData(n[0],"data",l);m.push(n)}var b=this.$selection.find(".select2-selection__rendered");h.appendMany(b,m)};return e});