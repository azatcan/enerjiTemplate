define(["jquery","../keys","../utils"],function(c,a,b){function d(){}d.prototype.bind=function(g,e,h){var f=this;g.call(this,e,h);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(i){f._handleClear(i)});e.on("keypress",function(i){f._handleKeyboardClear(i,e)})};d.prototype._handleClear=function(g,f){if(this.options.get("disabled")){return}var j=this.$selection.find(".select2-selection__clear");if(j.length===0){return}f.stopPropagation();var i=b.GetData(j[0],"data");var e=this.$element.val();this.$element.val(this.placeholder.id);var h={data:i};this.trigger("clear",h);if(h.prevented){this.$element.val(e);return}for(var k=0;k<i.length;k++){h={data:i[k]};this.trigger("unselect",h);if(h.prevented){this.$element.val(e);return}}this.$element.trigger("change");this.trigger("toggle",{})};d.prototype._handleKeyboardClear=function(g,f,e){if(e.isOpen()){return}if(f.which==a.DELETE||f.which==a.BACKSPACE){this._handleClear(f)}};d.prototype.update=function(h,g){h.call(this,g);if(this.$selection.find(".select2-selection__placeholder").length>0||g.length===0){return}var f=this.options.get("translations").get("removeAllItems");var e=c('<span class="select2-selection__clear" title="'+f()+'">&times;</span>');b.StoreData(e[0],"data",g);this.$selection.find(".select2-selection__rendered").prepend(e)};return d});